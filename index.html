<!DOCTYPE html>
<html>
<head>
    <title>My Website</title>
    <script src="keystone.min.js"></script>
</head>
<body>
    <h1>Welcome to My Website!</h1>
    <p>This is my first GitHub Pages website.</p>

    <script>
        // Input: Assembly
        var assembly = `
          inc   rax;
          call  0x10040;
          mov   rax, qword ptr[rdx + 4];
          sub   esp, 0x100;
          pop   rbx;
        `;

        try {
            // Initialize the encoder
            var a = new ks.Keystone(ks.ARCH_X86, ks.MODE_64);

            // Choose preferred syntax
            a.option(ks.OPT_SYNTAX, ks.OPT_SYNTAX_INTEL);

            // Assemble instructions
            var result = a.asm(assembly);

            // Check if assembly succeeded
            if (result.failed) {
                console.error("Assembly failed:", result.error);
            } else {
                console.log("Assembly succeeded!");
                console.log("Number of instructions:", result.count);
                console.log("Machine code:", result.mc);
            }

            // Close encoder
            a.close();
        } catch (error) {
            console.error("An error occurred:", error);
        }
    </script>
</body>
</html>
